<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="utf-8" />
        <style type="text/css">
#container
{
    margin-right: auto;
    margin-left : auto;
  height: 600px;
  position: relative;
  width: 600px;
}
#imageboard
{
  height: 100%;
  width: 100%;
  position: absolute;
  z-index: 1;
}
#lineboard
{
    height: 100%;
    width: 100%;
    position: absolute;
    z-index: 2;
}
#stoneboard
{
    height: 100%;
    width: 100%;
    position: absolute;
    z-index: 3;
}
#controls
{
  bottom: 624px;
  left: -37px;
  position: relative;
  width: 100%;
}
.header{
    text-align: center;
    font-size: 45px;
}
.circle{
    background-color:#ffffff;
    height: 25px;
    width: 25px;
    border-radius: 100%;
    margin: 4.75px;
    opacity: 0.1;
    margin-top: 9.75px;
}
        </style>
        <title>五目並べ</title>
        <script src="/socket.io/socket.io.js"></script> <!--websocketでsocket.io使うなら-->
    </head>
    <body style="background-color:aliceblue;">
        <header>
            <h1 class="header">
                <a>五目並べ</a>
            </h1>
        </header>
        <div id="container">
            <canvas id="imageboard"></canvas>
            <canvas id="lineboard"></canvas>
            <canvas id="stoneboard"></canvas>
            <script type="text/javascript">
                var imageboard=document.getElementById('imageboard');
                var lineboard=document.getElementById('lineboard');
                var stoneboard=document.getElementById('stoneboard');
                var myturn=0;//1
                var mycolor=1//null
                window.onload=()=>{
                    var imgcontext=imageboard.getContext('2d');
                    var img=new Image();
                    img.src="image/boardimg.jpg"
                    img.onload=()=>{
                        imgcontext.drawImage(img,0,0);
                    }
                }
                
                const width=imageboard.clientWidth;
                const height=imageboard.clientHeight;
                imageboard.width=600;
                imageboard.height=600;
                lineboard.width=600;
                lineboard.height=600;
                stoneboard.width=600;
                stoneboard.height=600;
                
                
                var context = lineboard.getContext('2d');
                
                for(let i=0;i<=14;i++){
                    context.beginPath();
                    context.moveTo(20+i*40,20);
                    context.lineTo(20+i*40,580);
                    context.stroke();
                }
                for(let i=0;i<=14;i++){
                    context.beginPath();
                    context.moveTo(20,20+i*40);
                    context.lineTo(580,20+i*40);
                    context.stroke();
                }
                var stonecontext=stoneboard.getContext('2d');
                function　drawcircle(x,y,color){
                    if(color){
                        stonecontext.fillStyle="#ffffff";
                    }else{
                        stonecontext.fillStyle="#000000"
                    }
                    stonecontext.beginPath();
                    stonecontext.arc(x,y,10,0,2*Math.PI,true);
                    stonecontext.fill();
                    stonecontext.stroke();
                }
                
                stoneboard.addEventListener('click',(event)=>{
                    if(myturn){
                        return;
                    }
                    myturn=1;
                    var rect=stoneboard.getBoundingClientRect();
                    var x=event.clientX-Math.floor(rect.left);
                    var y=event.clientY-Math.floor(rect.top);
                    console.log(x,y);
                    drawcircle(x,y,mycolor);
                })
                

            </script>
            <menu id="controls">
                <!--idがかぶらないようにボタンの複数設置ができなくてとんでもないコードになってしまった。ただこれ以降、ボタンのイベントに関しては
                for(i=0;i<225;i++){
                    配列[i/15][i%15]=document.getElementById('str(i)');
                とでもやって配列にボタンを保持しておけば大丈夫。また"circle"classですべてのボタンを一気に無効化、有効化が可
                <button class="circle" type="button" id="0"></button>
                <button class="circle" type="button" id="1"></button>
                <button class="circle" type="button" id="2"></button>
                <button class="circle" type="button" id="3"></button>
                <button class="circle" type="button" id="4"></button>
                <button class="circle" type="button" id="5"></button>
                <button class="circle" type="button" id="6"></button>
                <button class="circle" type="button" id="7"></button>
                <button class="circle" type="button" id="8"></button>
                <button class="circle" type="button" id="9"></button>
                <button class="circle" type="button" id="10"></button>
                <button class="circle" type="button" id="11"></button>
                <button class="circle" type="button" id="12"></button>
                <button class="circle" type="button" id="13"></button>
                <button class="circle" type="button" id="14"></button>
                <button class="circle" type="button" id="15"></button>
                <button class="circle" type="button" id="16"></button>
                <button class="circle" type="button" id="17"></button>
                <button class="circle" type="button" id="18"></button>
                <button class="circle" type="button" id="19"></button>
                <button class="circle" type="button" id="20"></button>
                <button class="circle" type="button" id="21"></button>
                <button class="circle" type="button" id="22"></button>
                <button class="circle" type="button" id="23"></button>
                <button class="circle" type="button" id="24"></button>
                <button class="circle" type="button" id="25"></button>
                <button class="circle" type="button" id="26"></button>
                <button class="circle" type="button" id="27"></button>
                <button class="circle" type="button" id="28"></button>
                <button class="circle" type="button" id="29"></button>
                <button class="circle" type="button" id="30"></button>
                <button class="circle" type="button" id="31"></button>
                <button class="circle" type="button" id="32"></button>
                <button class="circle" type="button" id="33"></button>
                <button class="circle" type="button" id="34"></button>
                <button class="circle" type="button" id="35"></button>
                <button class="circle" type="button" id="36"></button>
                <button class="circle" type="button" id="37"></button>
                <button class="circle" type="button" id="38"></button>
                <button class="circle" type="button" id="39"></button>
                <button class="circle" type="button" id="40"></button>
                <button class="circle" type="button" id="41"></button>
                <button class="circle" type="button" id="42"></button>
                <button class="circle" type="button" id="43"></button>
                <button class="circle" type="button" id="44"></button>
                <button class="circle" type="button" id="45"></button>
                <button class="circle" type="button" id="46"></button>
                <button class="circle" type="button" id="47"></button>
                <button class="circle" type="button" id="48"></button>
                <button class="circle" type="button" id="49"></button>
                <button class="circle" type="button" id="50"></button>
                <button class="circle" type="button" id="51"></button>
                <button class="circle" type="button" id="52"></button>
                <button class="circle" type="button" id="53"></button>
                <button class="circle" type="button" id="54"></button>
                <button class="circle" type="button" id="55"></button>
                <button class="circle" type="button" id="56"></button>
                <button class="circle" type="button" id="57"></button>
                <button class="circle" type="button" id="58"></button>
                <button class="circle" type="button" id="59"></button>
                <button class="circle" type="button" id="60"></button>
                <button class="circle" type="button" id="61"></button>
                <button class="circle" type="button" id="62"></button>
                <button class="circle" type="button" id="63"></button>
                <button class="circle" type="button" id="64"></button>
                <button class="circle" type="button" id="65"></button>
                <button class="circle" type="button" id="66"></button>
                <button class="circle" type="button" id="67"></button>
                <button class="circle" type="button" id="68"></button>
                <button class="circle" type="button" id="69"></button>
                <button class="circle" type="button" id="70"></button>
                <button class="circle" type="button" id="71"></button>
                <button class="circle" type="button" id="72"></button>
                <button class="circle" type="button" id="73"></button>
                <button class="circle" type="button" id="74"></button>
                <button class="circle" type="button" id="75"></button>
                <button class="circle" type="button" id="76"></button>
                <button class="circle" type="button" id="77"></button>
                <button class="circle" type="button" id="78"></button>
                <button class="circle" type="button" id="79"></button>
                <button class="circle" type="button" id="80"></button>
                <button class="circle" type="button" id="81"></button>
                <button class="circle" type="button" id="82"></button>
                <button class="circle" type="button" id="83"></button>
                <button class="circle" type="button" id="84"></button>
                <button class="circle" type="button" id="85"></button>
                <button class="circle" type="button" id="86"></button>
                <button class="circle" type="button" id="87"></button>
                <button class="circle" type="button" id="88"></button>
                <button class="circle" type="button" id="89"></button>
                <button class="circle" type="button" id="90"></button>
                <button class="circle" type="button" id="91"></button>
                <button class="circle" type="button" id="92"></button>
                <button class="circle" type="button" id="93"></button>
                <button class="circle" type="button" id="94"></button>
                <button class="circle" type="button" id="95"></button>
                <button class="circle" type="button" id="96"></button>
                <button class="circle" type="button" id="97"></button>
                <button class="circle" type="button" id="98"></button>
                <button class="circle" type="button" id="99"></button>
                <button class="circle" type="button" id="100"></button>
                <button class="circle" type="button" id="101"></button>
                <button class="circle" type="button" id="102"></button>
                <button class="circle" type="button" id="103"></button>
                <button class="circle" type="button" id="104"></button>
                <button class="circle" type="button" id="105"></button>
                <button class="circle" type="button" id="106"></button>
                <button class="circle" type="button" id="107"></button>
                <button class="circle" type="button" id="108"></button>
                <button class="circle" type="button" id="109"></button>
                <button class="circle" type="button" id="110"></button>
                <button class="circle" type="button" id="111"></button>
                <button class="circle" type="button" id="112"></button>
                <button class="circle" type="button" id="113"></button>
                <button class="circle" type="button" id="114"></button>
                <button class="circle" type="button" id="115"></button>
                <button class="circle" type="button" id="116"></button>
                <button class="circle" type="button" id="117"></button>
                <button class="circle" type="button" id="118"></button>
                <button class="circle" type="button" id="119"></button>
                <button class="circle" type="button" id="120"></button>
                <button class="circle" type="button" id="121"></button>
                <button class="circle" type="button" id="122"></button>
                <button class="circle" type="button" id="123"></button>
                <button class="circle" type="button" id="124"></button>
                <button class="circle" type="button" id="125"></button>
                <button class="circle" type="button" id="126"></button>
                <button class="circle" type="button" id="127"></button>
                <button class="circle" type="button" id="128"></button>
                <button class="circle" type="button" id="129"></button>
                <button class="circle" type="button" id="130"></button>
                <button class="circle" type="button" id="131"></button>
                <button class="circle" type="button" id="132"></button>
                <button class="circle" type="button" id="133"></button>
                <button class="circle" type="button" id="134"></button>
                <button class="circle" type="button" id="135"></button>
                <button class="circle" type="button" id="136"></button>
                <button class="circle" type="button" id="137"></button>
                <button class="circle" type="button" id="138"></button>
                <button class="circle" type="button" id="139"></button>
                <button class="circle" type="button" id="140"></button>
                <button class="circle" type="button" id="141"></button>
                <button class="circle" type="button" id="142"></button>
                <button class="circle" type="button" id="143"></button>
                <button class="circle" type="button" id="144"></button>
                <button class="circle" type="button" id="145"></button>
                <button class="circle" type="button" id="146"></button>
                <button class="circle" type="button" id="147"></button>
                <button class="circle" type="button" id="148"></button>
                <button class="circle" type="button" id="149"></button>
                <button class="circle" type="button" id="150"></button>
                <button class="circle" type="button" id="151"></button>
                <button class="circle" type="button" id="152"></button>
                <button class="circle" type="button" id="153"></button>
                <button class="circle" type="button" id="154"></button>
                <button class="circle" type="button" id="155"></button>
                <button class="circle" type="button" id="156"></button>
                <button class="circle" type="button" id="157"></button>
                <button class="circle" type="button" id="158"></button>
                <button class="circle" type="button" id="159"></button>
                <button class="circle" type="button" id="160"></button>
                <button class="circle" type="button" id="161"></button>
                <button class="circle" type="button" id="162"></button>
                <button class="circle" type="button" id="163"></button>
                <button class="circle" type="button" id="164"></button>
                <button class="circle" type="button" id="165"></button>
                <button class="circle" type="button" id="166"></button>
                <button class="circle" type="button" id="167"></button>
                <button class="circle" type="button" id="168"></button>
                <button class="circle" type="button" id="169"></button>
                <button class="circle" type="button" id="170"></button>
                <button class="circle" type="button" id="171"></button>
                <button class="circle" type="button" id="172"></button>
                <button class="circle" type="button" id="173"></button>
                <button class="circle" type="button" id="174"></button>
                <button class="circle" type="button" id="175"></button>
                <button class="circle" type="button" id="176"></button>
                <button class="circle" type="button" id="177"></button>
                <button class="circle" type="button" id="178"></button>
                <button class="circle" type="button" id="179"></button>
                <button class="circle" type="button" id="180"></button>
                <button class="circle" type="button" id="181"></button>
                <button class="circle" type="button" id="182"></button>
                <button class="circle" type="button" id="183"></button>
                <button class="circle" type="button" id="184"></button>
                <button class="circle" type="button" id="185"></button>
                <button class="circle" type="button" id="186"></button>
                <button class="circle" type="button" id="187"></button>
                <button class="circle" type="button" id="188"></button>
                <button class="circle" type="button" id="189"></button>
                <button class="circle" type="button" id="190"></button>
                <button class="circle" type="button" id="191"></button>
                <button class="circle" type="button" id="192"></button>
                <button class="circle" type="button" id="193"></button>
                <button class="circle" type="button" id="194"></button>
                <button class="circle" type="button" id="195"></button>
                <button class="circle" type="button" id="196"></button>
                <button class="circle" type="button" id="197"></button>
                <button class="circle" type="button" id="198"></button>
                <button class="circle" type="button" id="199"></button>
                <button class="circle" type="button" id="200"></button>
                <button class="circle" type="button" id="201"></button>
                <button class="circle" type="button" id="202"></button>
                <button class="circle" type="button" id="203"></button>
                <button class="circle" type="button" id="204"></button>
                <button class="circle" type="button" id="205"></button>
                <button class="circle" type="button" id="206"></button>
                <button class="circle" type="button" id="207"></button>
                <button class="circle" type="button" id="208"></button>
                <button class="circle" type="button" id="209"></button>
                <button class="circle" type="button" id="210"></button>
                <button class="circle" type="button" id="211"></button>
                <button class="circle" type="button" id="212"></button>
                <button class="circle" type="button" id="213"></button>
                <button class="circle" type="button" id="214"></button>
                <button class="circle" type="button" id="215"></button>
                <button class="circle" type="button" id="216"></button>
                <button class="circle" type="button" id="217"></button>
                <button class="circle" type="button" id="218"></button>
                <button class="circle" type="button" id="219"></button>
                <button class="circle" type="button" id="220"></button>
                <button class="circle" type="button" id="221"></button>
                <button class="circle" type="button" id="222"></button>
                <button class="circle" type="button" id="223"></button>
                <button class="circle" type="button" id="224"></button>
                -->

                
                
                
            </menu>
                
        </div>
        <footer>
            ここに対戦中とか勝ち負けとかあなたの番とか表示しようかな。　
        </footer>
    </body>

</html>